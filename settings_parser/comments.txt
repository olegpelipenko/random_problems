Несколько замечаний по коду:
    - Конечно неправильно использовать работу с файлами в тестах, правильно использовать StringIO и сравнивать получившийся
    результат с оригиналом. Но я решил сделать что побыстрее - работа с временными файлами
    - Я не до конца разобрался как должны правильно описываться интерфейсы в питоне и сделал просто класс
    - Именования функций\классов\переменных\расстановку пробелов\и т.п. мне рекомендовала IDE, насколько я понял она
    работает по стандарту питона
    - Для сериализации объектов можно было использовать pickle
    - В некоторых местах можно было бы использовать больше python-way синтаксического сахара, но т.к. у меня не так
    много в этом опыта я решил не тратить на это много времени и оставил как работало